<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<head>
  <title>PROTOTYPE CENS - ENSEIGNANTS</title>
  <link rel="shortcut icon" type="image/x-icon" href="../templates/image/favicon.ico" />
  <link rel="stylesheet" type="text/css" media="screen" href="../templates/css/style.css" />
  <link rel="stylesheet" href="../templates/css/font-awesome.css">
  <link rel="stylesheet" href="../templates/css/chartist.min.css">

</head>

<body>

  <div class="middle_container">

  <div class="block_top">

    <a id="logo_cens_header" href="index.html" title="Centre éducatif Nantais Sportifs" >
     <img src="../templates/image/logo.png" alt="Centre éducatif Nantais Sportifs" width="70" height="70" />
    </a>

    <div class="loggin">
      <div style="float:right;">
        <img src="../templates/image/profil.jpg" style="width:70px;height:70px">
      </div>
      <div style="float:left;vertical-align:middle;padding-top:20px;padding-right:20px;">
         <b style="font-size:10pt;">Bonjour <u>Jean DUPONT</u></b><br/>
         <a href="../profil.html"><i class="fa fa-user"></i> Profil &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </a>
         <!-- <a href="../profil.html"><i class="fa fa-sign-in"></i> Déconnexion</a> -->
         <a href="../index.html"><i class="fa fa-sign-in"></i> Déconnexion</a>
         <br/>
      </div>
    </div>
  </div>

   <div class="middle_container_content">

          <div class="middle_container_left">
               <div class="menu_left">
                    <ul id="menu">


                   </ul>
               </div>
          </div>

          <div class="middle_container_right">
              <div class="content">
                  <div class="frame_content default">
                     <h1>Statistiques et Analyses globales</h1>
                     
<style>

/*
.chart rect {
  fill: steelblue;
}
*/
.chart .legend {
  fill: black;
  font: 14px sans-serif;
  text-anchor: start;
  font-size: 12px;
}

.chart text {
  fill: white;
  font: 10px sans-serif;
  text-anchor: end;
}

.chart .label {
  fill: black;
  font: 14px sans-serif;
  text-anchor: end;
}

.bar:hover {
  fill: brown;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
</style>
<svg class="chart"></svg>

<script src="http://d3js.org/d3.v3.min.js"></script>


                  </div>
             </div>
          </div>
<!--
          <div class="push-float"></div>
    </div>
   <div class="news_letter">
      <p style="color:#fff;margin-left:20px;margin-top:0px;padding-top:10px;">Mentions légales &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Plan du site &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Support informatique &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Autre menu...</p>
   </div>

  <div class="border_bottom"></div>

-->

<div id="popup1" class="popup_block">
    <h2>Sélectionner un profil</h2>
    <ul>
      <li><a href="../index.html"><b>Se déconnecter</b></a></li>
      <li><a href="../eleves/index.html">Connexion Eleves</a></li>
      <li><a href="../enseignants/index.html">Connexion enseignants</a></li>
      <li><a href="../managers/index.html">Connexion Managers</a></li>
      <li><a href="../pedagoges/index.html">Connexion Pedagogie et Direction</a></li>
    </ul>
</div>


<script type="text/javascript" src="../templates/js/jquery.min.js"></script>
<script type="text/javascript" src="../templates/js/chartist.min.js"></script>
<script type="text/javascript">


$(document).ready(function(){

var data = {
  labels: [
    'S\'APPROPRIER - Rechercher, extraire et organiser l\'information', 'maintainability', 'accessibility',
    'uptime', 'functionality', 'impact'
  ],
  series: [
    {
      label: 'Vos élèves',
      values: [4, 8, 15, 16, 23, 42]
    },
    {
      label: 'Global',
      values: [12, 43, 22, 11, 73, 25]
    }]
};

var chartWidth       = 500,
    barHeight        = 20,
    groupHeight      = barHeight * data.series.length,
    gapBetweenGroups = 10,
    spaceForLabels   = 300,
    spaceForLegend   = 150;

// Zip the series data together (first values, second values, etc.)
var zippedData = [];
for (var i=0; i<data.labels.length; i++) {
  for (var j=0; j<data.series.length; j++) {
    zippedData.push(data.series[j].values[i]);
  }
}

// Color scale
var color = d3.scale.category10();
var chartHeight = barHeight * zippedData.length + gapBetweenGroups * data.labels.length;

var x = d3.scale.linear()
    .domain([0, d3.max(zippedData)])
    .range([0, chartWidth]);

var y = d3.scale.linear()
    .range([chartHeight + gapBetweenGroups, 0]);

var yAxis = d3.svg.axis()
    .scale(y)
    .tickFormat('')
    .tickSize(0)
    .orient("left");

// Specify the chart area and dimensions
var chart = d3.select(".chart")
    .attr("width", spaceForLabels + chartWidth + spaceForLegend)
    .attr("height", chartHeight);

// Create bars
var bar = chart.selectAll("g")
    .data(zippedData)
    .enter().append("g")
    .attr("transform", function(d, i) {
      return "translate(" + spaceForLabels + "," + (i * barHeight + gapBetweenGroups * (0.5 + Math.floor(i/data.series.length))) + ")";
    });

// Create rectangles of the correct width
bar.append("rect")
    .attr("fill", function(d,i) { return color((i % data.series.length)); })
    .attr("class", "bar")
    .attr("width", x)
    .attr("height", barHeight - 1);

// Add text label in bar
bar.append("text")
    .attr("x", function(d) { return x(d) - 3; })
    .attr("y", barHeight / 2)
    .attr("fill", "red")
    .attr("dy", ".35em")
    .text(function(d) { return d; });

// Draw labels
bar.append("text")
    .attr("class", "label")
    .attr("x", function(d) { return - 10; })
    .attr("y", groupHeight / 2)
    .attr("dy", ".35em")
    .text(function(d,i) {
      if (i % data.series.length === 0)
        return data.labels[Math.floor(i/data.series.length)];
      else
        return ""});

chart.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(" + spaceForLabels + ", " + -gapBetweenGroups/2 + ")")
      .call(yAxis);

// Draw legend
var legendRectSize = 18,
    legendSpacing  = 4;

var legend = chart.selectAll('.legend')
    .data(data.series)
    .enter()
    .append('g')
    .attr('transform', function (d, i) {
        var height = legendRectSize + legendSpacing;
        var offset = -gapBetweenGroups/2;
        var horz = spaceForLabels + chartWidth + 40 - legendRectSize;
        var vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

legend.append('rect')
    .attr('width', legendRectSize)
    .attr('height', legendRectSize)
    .style('fill', function (d, i) { return color(i); })
    .style('stroke', function (d, i) { return color(i); });

legend.append('text')
    .attr('class', 'legend')
    .attr('x', legendRectSize + legendSpacing)
    .attr('y', legendRectSize - legendSpacing)
    .text(function (d) { return d.label; });



  $( "#menu" ).load( "menu.html" , function() {
    $("#analyses_globales").addClass("selected");

  });

  
  //SCRIPT+JQUERY JUSTE POUR LE POPUP DE CONNEXION
  //When you click on a link with class of poplight and the href starts with a #
  $('a.poplight[href^=#]').click(function() {
    var popID = $(this).attr('rel'); //Get Popup Name
    var popURL = $(this).attr('href'); //Get Popup href to define size
    //Pull Query & Variables from href URL
    var query= popURL.split('?');
    var dim= query[1].split('&');
    var popWidth = dim[0].split('=')[1]; //Gets the first query string value

    //Fade in the Popup and add close button
    $('#' + popID).fadeIn().css({ 'width': Number( popWidth ) }).prepend('<a href="#" class="close"><img src="../templates/image/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>');
    //Define margin for center alignment (vertical + horizontal) - we add 80 to the height/width to accomodate for the padding + border width defined in the css
    var popMargTop = ($('#' + popID).height() + 80) / 2;
    var popMargLeft = ($('#' + popID).width() + 80) / 2;
    //Apply Margin to Popup
    $('#' + popID).css({
      'margin-top' : -popMargTop,
      'margin-left' : -popMargLeft
    });
    //Fade in Background
    $('body').append('<div id="fade"></div>'); //Add the fade layer to bottom of the body tag.
    $('#fade').css({'filter' : 'alpha(opacity=80)'}).fadeIn(); //Fade in the fade layer
    return false;
  });
  //Close Popups and Fade Layer
  $('a.close, #fade').live('click', function() { //When clicking on the close or fade layer...
      $('#fade , .popup_block').fadeOut(function() {
      $('#fade, a.close').remove();
  }); //fade them both out
    return false;
  });



});



</script>
</body>

</html>
